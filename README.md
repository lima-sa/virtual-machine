# Simple Virtual Machine (Educational)

Простая учебная виртуальная машина с поддержкой целочисленных и вещественных операций, регистров, условных переходов и базового ввода-вывода.

## О проекте

Это учебный проект — интерпретатор / виртуальная машина с очень простой 32-битной архитектурой.  
Поддерживаются:

- целочисленная арифметика (+ − × ÷ %)
- вещественная арифметика (float32) (+ − × ÷)
- сравнения и условные переходы (JZ, JG, JL)
- работа с двумя адресными регистрами (a1, a2)
- базовый ввод/вывод чисел
- загрузка программ из текстового файла в специальном простом формате

Цель проекта — помочь понять, как работают процессоры, память, команды и флаги на очень простом примере.

## Особенности

- Память: 64 КБ (65536 байт)
- 2 адресных регистра (a1, a2)
- Флаги: Zero, Sign, Carry, Overflow
- Формат команды: 32 бита  
  `opcode(8) | BB(2) | Address1(12) | Address2(10)`
- Поддержка базовой адресации (прямая, регистровая, базовая+смещение)

## Формат программы (пример)

a 0000          ; установка текущего адреса
i 10            ; целое число 10
i 3
r 3.14          ; вещественное число
r 2.0

a 0100          ; код начинается с адреса 0x0100
k 01 00 0000 0001   ; IADD   a1, [0000], [0001]
k 09 00 0000 fffe   ; IOUT   [0000]
...
k 00 00 0000 0000   ; STOP
e 0100          ; точка входа
s               ; конец программы

vm/
├── main.go           — точка входа, загрузка и запуск
├── memory.go         — модель памяти
├── processor.go      — процессор, выполнение команд
├── types.go          — основные типы (Word, Data, CommandData)
├── opcodes.go        — перечисление всех команд
├── loader.go         — загрузчик программ из текстового файла
├── command.go        — реализации всех команд (IADD, JZ, RIN и т.д.)
└── program.txt       — пример программы (создайте сами)
